## Prueba de Backend Merqueo

La prueba de backend de merqueo se realizo en php y laravel junto con base de datos mysql, sqlite y pruebas con phpunit y postman.

- Se usa XAMPP para crear un proyecto con todos los requisitos de laravel pre instalados incluidas las bases de datos mysql, sqlite y el servidor Apache.
- En la capa de [database](https://github.com/sebaxo/backendTest/tree/master/database) y mediante los comandos de php artisan se crean las [migraciones](https://github.com/sebaxo/backendTest/tree/master/database/migrations) iniciales.
- Para acceder a la base de datos se usa la herramienta de eloquent incluida con laravel, para ello se crea en la carpeta [Models](https://github.com/sebaxo/backendTest/tree/master/app/Models) las tablas que se mapearan de la base de datos.
- Se crean dos repositorios para delegarles el acceso directo a la base de datos, los repositorios de [inventario](https://github.com/sebaxo/backendTest/tree/master/database/InventoryRepository) y [proveedores](https://github.com/sebaxo/backendTest/tree/master/database/ProviderRepository) incluyen tanto su interfaz como su respectiva implementacion.
- Se crea una carpeta de [dominio](https://github.com/sebaxo/backendTest/tree/master/app/Domain) en la capa de aplicacion donde se va a manejar la logica de negocio de la api rest, esta clase de dominio accede a los repositorios de base de datos por medio de inyeccion de dependencias.
- La clase de dominio se inyecta en el [controlador](https://github.com/sebaxo/backendTest/tree/master/app/Http/Controllers), el cual se encarga de validar entradas y pasarlas a las metodos de las clases de dominio, el controladores hereda de su respectiva [interfaces](https://github.com/sebaxo/backendTest/tree/master/app/ServiceContracts) pensada para mapear las entradas y salidas del servicio como un contrato.
- Para las pruebas funcionales se usa postman para consumir la api rest y para las pruebas unitarias se usa phpunit, para las pruebas se usa la base de datos sqlite que corre en memoria para no afectar nuestra base de datos mysql, se revisa que al realizar las insersiones y demas operaciones el retorno del metodo sea el esperado.

Nota: las migraciones de base de datos se encuentran en su respectiva [carpeta], para poblarla y realizar pruebas añado una coleccion de postmancon todos los metodos requeridos aunque para probar con phpunit no es necesario correr ninguna migracion ni poblar ninguna tabla.

Diseño y patrones: La logica de la api se coloco en una "capa" de [Dominio] para que fuera independiente del controlador y a su vez el acceso a base de datos usando el patron repositorio se coloco en otra "capa" de [Repositorios] independiente del dominio, cada clase importante cuenta con su respectiva interfaz las cuales son usadas tanto para inyecciones de dependencias como para establecer el contrato de la clase como por ejemplo en el caso de los controladores, ya que esta no parecia ser una api expuesta al cliente y por temas de simplicidad del ejercicio no se penso en usar fachadas, se tuvo en cuenta el integrar Swagger con la api para facilidad de consumo y documentacion pero por falta de tiempo no se realizo esta integracion.
